(this.webpackJsonpestoque=this.webpackJsonpestoque||[]).push([[0],{120:function(e,t){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(56),s=a.n(r),u=a(7),o=a(10),i=a(2),l=a.n(i),m=a(4),d=a(3),p=(a(69),a(57)),f=a.n(p).a.create({baseURL:"http://10.5.50.78:80/"});function v(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),u=Object(d.a)(s,2),i=u[0],p=u[1],v=Object(n.useState)("InputBox"),b=Object(d.a)(v,2),E=b[0],h=b[1],g=Object(n.useState)("InputBox"),I=Object(d.a)(g,2),x=I[0],N=I[1],O=Object(o.f)(),j=localStorage.getItem("accountId");function k(){return(k=Object(m.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a||!i){e.next=16;break}return e.prev=2,e.next=5,f.post("/enterProfile",{name:a,password:i});case 5:n=e.sent,h("InputBox"),N("InputBox"),"adm"===n.data.accountType?(localStorage.setItem("accountId",n.data.accountId),O.push("/adm")):(localStorage.setItem("accountId",n.data.accountId),O.push("/user")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),"doesn't exist any user with this name"===e.t0.response.data.error?(h("ErrorBox"),N("InputBox"),setTimeout((function(){h("InputBox")}),5e3)):(N("ErrorBox"),h("InputBox"),setTimeout((function(){N("InputBox")}),5e3));case 14:e.next=19;break;case 16:h("ErrorBox"),N("ErrorBox"),setTimeout((function(){h("InputBox"),N("InputBox")}),5e3);case 19:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}Object(n.useEffect)((function(){w()}));var w=function(){var e=Object(m.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.post("/enterProfileById",{id:j});case 3:"adm"===(t=e.sent).data[0].type?(localStorage.setItem("accountId",t.data[0].id),O.push("/adm")):(localStorage.setItem("accountId",t.data[0].id),O.push("/user")),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"LogPage"},c.a.createElement("h1",{className:"Title"},"Estoque Tecnet"),c.a.createElement("form",{className:"Form",onSubmit:function(e){return k.apply(this,arguments)}},c.a.createElement("h1",{className:"Header"},"Login"),c.a.createElement("input",{className:E,placeholder:"Usu\xe1rio",value:a,onChange:function(e){r(e.target.value)}}),c.a.createElement("input",{className:x,type:"password",placeholder:"Senha",value:i,onChange:function(e){p(e.target.value)}}),c.a.createElement("button",{className:"Submit",type:"submit"},"Entrar")))}var b=a(11),E=a(9),h=a(61),g=(a(90),a(60)),I=a.n(g)()();function x(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],s=Object(o.f)(),i=Object(n.useState)(0),p=Object(d.a)(i,2),v=p[0],g=p[1],x=Object(n.useState)(1),N=Object(d.a)(x,2),O=N[0],j=N[1],k=Object(n.useState)("ArrowLeftDesactive"),w=Object(d.a)(k,2),A=w[0],S=w[1],q=Object(n.useState)("ArrowRightDesactive"),y=Object(d.a)(q,2),B=y[0],Q=y[1],R=Object(n.useState)(0),C=Object(d.a)(R,2),P=C[0],D=C[1],T=Object(n.useState)(!1),U=Object(d.a)(T,2),L=U[0],z=U[1],H=Object(n.useState)(""),M=Object(d.a)(H,2),F=M[0],J=M[1],K=function(){var e=Object(m.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("stock");case 3:t=e.sent,r(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response.data);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),G=function(){j(Math.ceil(a.length/8))},V=function(){if(v===O-1){Q("ArrowRightDesactive")}else{Q("ArrowRightActive")}},W=function(){if(0===v){S("ArrowLeftDesactive")}else{S("ArrowLeftActive")}},X=function(){var e=Object(m.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("accountId"),e.prev=1,e.next=4,f.post("/enterProfileById",{id:t});case 4:"adm"===(a=e.sent).data[0].type?localStorage.setItem("accountId",a.data[0].id):"user"===a.data[0].type?(localStorage.setItem("accountId",a.data[0].id),s.push("/user")):s.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s.push("/");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){X(),K(),G(),W(),V(),ee(),te()}),[]);var Y=function(){var e=Object(m.a)(l.a.mark((function e(t,n,c){var s,u,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=o.length>3&&void 0!==o[3]?o[3]:{},"blur"!==c){e.next=17;break}return e.prev=2,e.next=5,f.post("stock",{id:t.id,changeType:"itemName",change:t.itemName});case 5:u=e.sent,a[n]=u.data[0],r(a),I.emit("reloadEmit"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0.response.data);case 14:D(P+1),e.next=18;break;case 17:"Enter"===s.key&&s.currentTarget.blur();case 18:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Z=function(){var e=Object(m.a)(l.a.mark((function e(t,n,c){var s,u,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=o.length>3&&void 0!==o[3]?o[3]:{},"blur"!==c){e.next=17;break}return e.prev=2,e.next=5,f.post("stock",{id:t.id,changeType:"itemQuant",change:t.itemQuant});case 5:u=e.sent,a[n]=u.data[0],r(a),I.emit("reloadEmit"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0.response.data);case 14:D(P+1),e.next=18;break;case 17:"Enter"===s.key&&s.currentTarget.blur();case 18:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,a,n){return e.apply(this,arguments)}}(),$=function(){var e=Object(m.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.delete("stock/".concat(t.id));case 3:I.emit("reloadEmit"),a.splice(n,1),r(a),G(),W(),V(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),_=function(e,t){if(t>=8*v&&t<=8*v+7)return c.a.createElement("div",{className:"AdmItensDiv"},c.a.createElement("div",{className:"AdmItens"},c.a.createElement("div",{className:"AdmItemText"},c.a.createElement("input",{className:"InputItemText",value:e.itemName,onChange:function(t){!function(e,t){e.itemName=t.target.value,D(P+1)}(e,t)},onBlur:function(){Y(e,t,"blur")},onKeyPress:function(a){Y(e,t,"teclado",a)}})),c.a.createElement("div",{className:"AdmItemQuant"},c.a.createElement("input",{className:"InputItemQuant",value:e.itemQuant,type:"number",onChange:function(t){!function(e,t){String(t.target.value).length>=5||(e.itemQuant=t.target.value),D(P+1)}(e,t)},onBlur:function(){Z(e,t,"blur")},onKeyPress:function(a){Z(e,t,"teclado",a)}})),c.a.createElement("button",{className:"DeleteButton",onClick:function(){$(e,t)}},c.a.createElement(E.c,{size:20,color:"#E02041"}))))},ee=function(){var e=Object(m.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("accountId"),e.prev=1,e.next=4,f.post("/enterProfileById",{id:t});case 4:a=e.sent,J(a.data[0].name),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),te=function(){I.on("reload",(function(){K(),a.length<8||(G(),W(),V())})),I.emit("requestsRequest",""),I.on("requests",(function(e){0===e.length?z(!1):z(!0)}))};return c.a.createElement("div",{className:"AdmPage"},c.a.createElement("div",{className:"AdmHeader"},c.a.createElement("div",{className:"AdmInitialHeader"},c.a.createElement("h1",{class:"AdmName"},"Ol\xe1, ",F,"!"),c.a.createElement("button",{className:"AdmBackButton",onClick:function(){localStorage.setItem("accountId",""),s.push("/")}},c.a.createElement(b.a,{size:20,color:"#E02041"})))),c.a.createElement("div",{className:"AdmTextDiv"},c.a.createElement("div",{className:"AdmTexts"},c.a.createElement("div",null,"Itens"),c.a.createElement("div",null,"Quantidade"),c.a.createElement("div",null,"A\xe7\xf5es"))),a.map((function(e,t){return _(e,t)})),c.a.createElement("div",{className:"PageButtons"},c.a.createElement("button",{className:A,onClick:function(){if("ArrowLeftActive"===A){var e=v-1;g(e),0===e&&S("ArrowLeftDesactive"),e<O-1&&Q("ArrowRightActive")}}},c.a.createElement(E.a,{size:"30",color:"black"})),c.a.createElement(u.b,{to:"/adm/addItens"},c.a.createElement(b.c,{size:"30",color:"#3ddb18"})),c.a.createElement("button",{className:B,onClick:function(){if("ArrowRightActive"===B){var e=v+1;g(e),e>0&&S("ArrowLeftActive"),e===O-1&&Q("ArrowRightDesactive")}}},c.a.createElement(E.b,{size:"30",color:"black"}))),c.a.createElement("div",{className:"RequestsButtons"},c.a.createElement(u.b,{className:"RequestsLink",to:"/adm/requests"},L?c.a.createElement(h.a,{size:"25",color:"white"}):void 0,"Pedidos"),c.a.createElement(u.b,{className:"EntriesAndExitsButton",to:"/adm/entriesAndExits"},"Entradas e saidas")))}var N=a(62);a(123);function O(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],s=Object(o.f)(),u=localStorage.getItem("accountId"),i=Object(n.useState)(0),p=Object(d.a)(i,2),v=p[0],h=p[1],g=Object(n.useState)(1),x=Object(d.a)(g,2),O=x[0],j=x[1],k=Object(n.useState)("UserArrowLeftDesactive"),w=Object(d.a)(k,2),A=w[0],S=w[1],q=Object(n.useState)("UserArrowRightDesactive"),y=Object(d.a)(q,2),B=y[0],Q=y[1],R=Object(n.useState)(""),C=Object(d.a)(R,2),P=C[0],D=C[1],T=function(){var e=Object(m.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("stock");case 3:t=e.sent,r(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response.data);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),U=function(){j(Math.ceil(a.length/8))},L=function(){if(v===O-1){Q("UserArrowRightDesactive")}else{Q("UserArrowRightActive")}},z=function(){if(0===v){S("UserArrowLeftDesactive")}else{S("UserArrowLeftActive")}},H=function(){var e=Object(m.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.post("/enterProfileById",{id:u});case 3:"adm"===(t=e.sent).data[0].type?(localStorage.setItem("accountId",t.data[0].id),s.push("/adm")):"user"===t.data[0].type?localStorage.setItem("accountId",t.data[0].id):s.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s.push("/");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){H(),ne(),T(),U(),z(),L(),ce()}),[]);var M=Object(n.useState)([]),F=Object(d.a)(M,2),J=F[0],K=F[1],G=Object(n.useState)(!1),V=Object(d.a)(G,2),W=V[0],X=V[1],Y=Object(n.useState)(1),Z=Object(d.a)(Y,2),$=Z[0],_=Z[1],ee=function(e,t,a){switch(t){case"+":J[a].requestQuant<=e.itemQuant-1&&(e.requestQuant=e.requestQuant+1),J[a]=e,K(J),I.emit("request",J),console.log(3),_($+1);break;default:e.requestQuant=e.requestQuant-1,J[a]=e,0===J[a].requestQuant?(J.splice(a,1),K(J),_($+1),0===J.length&&X(!1)):(K(J),_($+1)),I.emit("request",J)}},te=function(){K([]),X(!1),I.emit("request",[])},ae=function(e,t){if(t>=8*v&&t<=8*v+7)return c.a.createElement("div",{className:"ItensDiv"},c.a.createElement("div",{className:"Itens"},c.a.createElement("div",{className:"ItemText"},e.itemName),c.a.createElement("div",{className:"ItemQuant"},e.itemQuant),c.a.createElement("button",{className:"Request",onClick:function(){!function(e){var t=e.itemName,a=e.itemQuant,n=e.id;switch(J.length){case 0:var c=[{name:P,accountId:u,itemName:t,itemQuant:a,id:n,requestQuant:1}];K(c),X(!0),I.emit("request",c);break;case 4:break;default:var r=!1;if(J.forEach((function(e){e.id===n&&(r=!0)})),!1===r){var s=[].concat(Object(N.a)(J),[{name:P,accountId:u,itemName:t,itemQuant:a,id:n,requestQuant:1}]);K(s),X(!0),_($+1),I.emit("request",s)}}}(e)}},c.a.createElement(b.d,{size:20,color:"#1134e7"}))))},ne=function(){var e=Object(m.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.post("/enterProfileById",{id:u});case 3:t=e.sent,D(t.data[0].name),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){I.on("reload",(function(){T(),a.length<8||(U(),z(),L())})),I.emit("requestsRequest",""),I.on("requests",(function(e){K(e),_($+1);var t=0;e.forEach((function(e){e.accountId===u&&t++})),X(0!==t)}))};return c.a.createElement("div",{className:"UserPage"},c.a.createElement("div",{className:"UserHeader"},c.a.createElement("div",{className:"InitialHeader"},c.a.createElement("h1",null,"Ol\xe1, ",P,"!"),c.a.createElement("button",{className:"BackButton",onClick:function(){localStorage.setItem("accountId",""),s.push("/")}},c.a.createElement(b.a,{size:20,color:"#E02041"})))),c.a.createElement("div",{className:"TextDiv"},c.a.createElement("div",{className:"Texts"},c.a.createElement("div",null,"Itens"),c.a.createElement("div",null,"Quantidade"),c.a.createElement("div",null,"A\xe7\xf5es"))),a.map((function(e,t){return ae(e,t)})),c.a.createElement("div",{className:"UserPageButtons"},c.a.createElement("button",{className:A,onClick:function(){if("UserArrowLeftActive"===A){var e=v-1;h(e),0===e&&S("UserArrowLeftDesactive"),e<O-1&&Q("UserArrowRightActive")}}},c.a.createElement(E.a,{size:"30",color:"black"})),c.a.createElement("button",{className:B,onClick:function(){if("UserArrowRightActive"===B){var e=v+1;h(e),e>0&&S("UserArrowLeftActive"),e===O-1&&Q("UserArrowRightDesactive")}}},c.a.createElement(E.b,{size:"30",color:"black"}))),c.a.createElement("div",{className:"Requests"},c.a.createElement("div",null,"Pedidos(max: 4):"),c.a.createElement("div",{className:"RequestList"},J.map((function(e,t){if(e.accountId===u)return function(e,t){return c.a.createElement("div",{className:"RequestItem"},c.a.createElement("button",{className:"Buttons",onClick:function(){ee(e,"+",t)}},c.a.createElement(b.c,{size:20,color:"#3ddb18"})),c.a.createElement("div",{className:"RequestName"},e.itemName,": ",e.requestQuant),c.a.createElement("button",{className:"Buttons",onClick:function(){ee(e,"-",t)}},c.a.createElement(b.b,{size:20,color:"#fa0404"})))}(e,t)})))),W?c.a.createElement("div",{className:"CancelDiv"},c.a.createElement("button",{className:"CancelButton",onClick:te},"Cancelar todos os pedidos")):c.a.createElement("div",null))}var j=a(22);a(124);function k(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),i=Object(d.a)(s,2),p=i[0],v=i[1],b=Object(o.f)();Object(n.useEffect)((function(){E()}),[]);var E=function(){var e=Object(m.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("accountId"),e.prev=1,e.next=4,f.post("/enterProfileById",{id:t});case 4:"adm"===(a=e.sent).data[0].type?localStorage.setItem("accountId",a.data[0].id):"user"===a.data[0].type?(localStorage.setItem("accountId",a.data[0].id),b.push("/user")):b.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),b.push("/");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"AddPage"},c.a.createElement("div",{className:"AddHeader"},c.a.createElement("h1",null,"Adicionar itens!"),c.a.createElement(u.b,{to:"/adm"},c.a.createElement(j.a,{size:20,color:"#E02041"}))),c.a.createElement("form",{className:"AddForm",onSubmit:function(e){try{var t=f.post("createStock",{itemName:a,itemQuant:p});I.emit("reloadEmit"),console.log(t.data)}catch(n){console.log(n.response)}}},c.a.createElement("div",{className:"Inputs"},c.a.createElement("input",{placeholder:"Nome do item",className:"IntoInputs",value:a,onChange:function(e){r(e.target.value)}}),c.a.createElement("input",{placeholder:"Quantidade do item",className:"IntoInputs",type:"number",value:p,onChange:function(e){String(e.target.value).length>=5||v(e.target.value)}})),c.a.createElement("button",{type:"submit",className:"AddButton"},"Criar")))}a(125);function w(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(1),i=Object(d.a)(s,2),p=i[0],v=i[1],b=localStorage.getItem("accountId"),h=Object(o.f)(),g=function(){var e=Object(m.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.post("/enterProfileById",{id:b});case 3:"adm"===(t=e.sent).data[0].type?localStorage.setItem("accountId",t.data[0].id):"user"===t.data[0].type?(localStorage.setItem("accountId",t.data[0].id),h.push("/user")):h.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h.push("/");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){g(),x()}),[]);var x=function(){I.emit("requestsRequest",""),I.on("requests",(function(e,t){t!==b&&(r(e),v(p+1))}))},N=function(){var e=Object(m.a)(l.a.mark((function e(t,n){var c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=t.itemQuant-t.requestQuant,e.next=4,f.post("/stock",{id:t.id,changeType:"itemQuant",change:c});case 4:return e.next=6,f.post("/createEntrieOrExit",{type:"exit",changes:t.requestQuant,itemThatChange:t.itemName,alterator:t.name,state:c});case 6:I.emit("reloadEmit"),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:a.splice(n,1),s=a,I.emit("requestComplete",s,b),r(s),v(p+1);case 16:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),O=function(e,t){return c.a.createElement("div",{className:"RequestsItem"},c.a.createElement("div",{className:"RequestsName"},e.itemName),c.a.createElement("div",{className:"RequestUser"},"de ",e.name),"|",c.a.createElement("div",{className:"RequestQuant"},"quantidade: ",e.requestQuant),"|",c.a.createElement("button",{onClick:function(){N(e,t)},className:"RequestsButton"},"Pedido entregue"),"|",c.a.createElement("button",{onClick:function(){!function(e){a.splice(e,1);var t=a;I.emit("requestComplete",t,b),r(t),v(p+1)}(t)},className:"DeleteRequest"},c.a.createElement(E.c,{size:"30",color:"#E02041"})))};return c.a.createElement("div",{className:"RequestPage"},c.a.createElement("div",{className:"RequestHeader"},"Pedidos",c.a.createElement(u.b,{to:"/adm"},c.a.createElement(j.a,{size:20,color:"#E02041"}))),a.map((function(e,t){return O(e,t)})))}function A(){return c.a.createElement("div",{className:"AdmPage"},"Entrada")}function S(){return c.a.createElement(u.a,null,c.a.createElement(o.c,null,c.a.createElement(o.a,{path:"/",exact:!0,component:v}),c.a.createElement(o.a,{path:"/adm",exact:!0,component:x}),c.a.createElement(o.a,{path:"/user",component:O}),c.a.createElement(o.a,{path:"/adm/addItens",component:k}),c.a.createElement(o.a,{path:"/adm/requests",component:w}),c.a.createElement(o.a,{path:"/adm/entriesAndExits",component:A})))}var q=function(){return c.a.createElement(S,null)};s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(q,null)),document.getElementById("root"))},63:function(e,t,a){e.exports=a(126)},69:function(e,t,a){},90:function(e,t,a){}},[[63,1,2]]]);
//# sourceMappingURL=main.ea106009.chunk.js.map